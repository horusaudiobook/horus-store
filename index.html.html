<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horus Audiobook - Cat√°logo Completo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #141414;
            color: #ffffff;
            line-height: 1.4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), rgba(0,0,0,0));
            padding: 20px 0;
            position: fixed;
            width: 100%;
            z-index: 100;
            transition: background-color 0.3s;
        }

        header.scrolled {
            background-color: #141414;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: #e50914;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 25px;
        }

        nav ul li a {
            color: #ffffff;
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #e50914;
        }

        /* Hero Section */
        .hero {
            height: 70vh;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            padding-top: 80px;
        }

        .hero-content {
            max-width: 600px;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
            color: #d2d2d2;
        }

        /* Main Content */
        main {
            padding: 40px 0;
        }

        .section-title {
            font-size: 28px;
            margin: 30px 0 20px;
            font-weight: 600;
            color: #e50914;
            text-align: center;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }

        /* Barra de Pesquisa */
        .search-container {
            max-width: 800px;
            margin: 30px auto 40px;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 16px 20px;
            padding-left: 50px;
            font-size: 16px;
            border: 2px solid #333;
            border-radius: 30px;
            background-color: #222;
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            border-color: #e50914;
            background-color: #2a2a2a;
            box-shadow: 0 0 0 3px rgba(229, 9, 20, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
            font-size: 18px;
        }

        .search-results {
            text-align: center;
            color: #a3a3a3;
            font-size: 14px;
            margin-top: 10px;
            min-height: 20px;
        }

        /* Contador e Filtros */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }

        .counter {
            font-size: 16px;
            color: #a3a3a3;
        }

        .counter span {
            color: #e50914;
            font-weight: bold;
            font-size: 20px;
        }

        .filters {
            display: flex;
            gap: 15px;
        }

        .filter-btn {
            background-color: #333;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .filter-btn.active {
            background-color: #e50914;
        }

        .filter-btn:hover {
            background-color: #444;
        }

        .filter-btn.active:hover {
            background-color: #b2070f;
        }

        /* Audiobooks Grid - Layout infinito */
        .audiobooks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .audiobook-card {
            background-color: #181818;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .audiobook-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        .audiobook-cover {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }

        .audiobook-info {
            padding: 15px;
        }

        .audiobook-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .audiobook-author {
            font-size: 14px;
            color: #a3a3a3;
            margin-bottom: 15px;
        }

        /* Player */
        .player-container {
            padding: 15px;
            background-color: #222;
            border-radius: 0 0 8px 8px;
            display: none;
        }

        .player-container.active {
            display: block;
        }

        /* Estilo para o widget do SoundCloud */
        .soundcloud-widget {
            width: 100% !important;
            height: 300px !important;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
        }

        .soundcloud-footer {
            font-size: 10px;
            color: #cccccc;
            line-break: anywhere;
            word-break: normal;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            font-family: Interstate, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Garuda, Verdana, Tahoma, sans-serif;
            font-weight: 100;
            margin-bottom: 15px;
        }

        .soundcloud-footer a {
            color: #cccccc;
            text-decoration: none;
        }

        .soundcloud-footer a:hover {
            color: #ffffff;
        }

        .buy-btn {
            display: block;
            width: 100%;
            background-color: #e50914;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.3s;
        }

        .buy-btn:hover {
            background-color: #b2070f;
        }

        /* Footer */
        footer {
            background-color: #000;
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid #333;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            color: #e50914;
            margin-bottom: 20px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: #a3a3a3;
            margin: 0 15px;
            text-decoration: none;
        }

        .footer-links a:hover {
            color: #ffffff;
        }

        .copyright {
            color: #a3a3a3;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            nav ul {
                margin-top: 15px;
            }
            
            nav ul li {
                margin-left: 0;
                margin-right: 15px;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .controls {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .filters {
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .audiobooks-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .soundcloud-widget {
                height: 200px !important;
            }
        }

        /* Loading animation for covers */
        .cover-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #2a2a2a, #3a3a3a);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 14px;
        }
        
        /* Fallback para imagens que n√£o carregam */
        .audiobook-cover.error {
            display: none;
        }
        
        .audiobook-cover.error + .cover-placeholder {
            display: flex;
        }
        
        /* Cor da capa baseada no ID */
        .cover-placeholder[id^="cover-"] {
            background: linear-gradient(45deg, var(--color1), var(--color2));
        }
        
        /* Mensagem de nenhum resultado */
        .no-results {
            text-align: center;
            padding: 50px 20px;
            color: #aaa;
            font-size: 18px;
            grid-column: 1 / -1;
        }
        
        .no-results i {
            font-size: 48px;
            margin-bottom: 20px;
            color: #555;
        }
        
        /* Bot√£o Limpar Pesquisa */
        .clear-search {
            background-color: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 10px;
            transition: background-color 0.3s;
        }
        
        .clear-search:hover {
            background-color: #444;
        }
        
        /* Bot√£o de voltar ao topo */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #e50914;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background-color: #b2070f;
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <i class="fas fa-headphones"></i> HORUS AUDIOBOOK
                </a>
                <nav>
                    <ul>
                        <li><a href="#home">In√≠cio</a></li>
                        <li><a href="#audiobooks">Cat√°logo</a></li>
                        <li><a href="#about">Sobre</a></li>
                        <li><a href="#contact">Contato</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Conhecimento em forma de √°udio</h1>
                <p>Explore nossa cole√ß√£o exclusiva de audiobooks sobre esoterismo, filosofia, espiritualidade e desenvolvimento pessoal. Use a barra de pesquisa para encontrar rapidamente o que procura.</p>
            </div>
        </div>
    </section>

    <main class="container" id="audiobooks">
        <!-- Barra de Pesquisa -->
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-box" id="searchInput" placeholder="Buscar por t√≠tulo, autor ou assunto...">
            <div class="search-results" id="searchResults">Digite para come√ßar a buscar</div>
        </div>
        
        <!-- Contador e Filtros -->
        <div class="controls">
            <div class="counter">
                Mostrando: <span id="visibleCount">99</span> de <span>99</span> audiobooks
            </div>
            <div class="filters">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="philosophy">Filosofia</button>
                <button class="filter-btn" data-filter="esoterism">Esoterismo</button>
                <button class="filter-btn" data-filter="spirituality">Espiritualidade</button>
                <button class="filter-btn" data-filter="self-help">Desenvolvimento</button>
            </div>
        </div>
        
        <!-- Grid de Audiobooks -->
        <h2 class="section-title">CAT√ÅLOGO COMPLETO DE AUDIOBOOKS</h2>
        <div class="audiobooks-grid" id="audiobooks-list"></div>
        
        <!-- Bot√£o Voltar ao Topo -->
        <div class="back-to-top" id="backToTop">
            <i class="fas fa-arrow-up"></i>
        </div>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-logo">HORUS AUDIOBOOK</div>
            <div class="footer-links">
                <a href="#">Termos de Uso</a>
                <a href="#">Pol√≠tica de Privacidade</a>
                <a href="#">FAQ</a>
                <a href="#">Suporte</a>
            </div>
            <p class="copyright">¬© 2023 Horus Audiobook. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // TODOS OS AUDIOBOOKS ORGANIZADOS EM ORDEM ALFAB√âTICA
        // Com categorias adicionadas para filtragem
        const allAudiobooks = [
            { 
                id: 1, 
                title: "A B√≠blia Sat√¢nica", 
                author: "Anton LaVey",
                category: "esoterism",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SO<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/soundcloud%253Atracks%253A2237324234&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/horusaudiobook" title="H√≥rus Audiobook" target="_blank" style="color: #cccccc; text-decoration: none;">H√≥rus Audiobook</a> ¬∑ <a href="https://soundcloud.com/horusaudiobook/a-biblia-satanica-anton-lavey-i-audiobook" title="A B√≠blia Sat√¢nica ‚Äì Anton LaVey I Audiobook üéß" target="_blank" style="color: #cccccc; text-decoration: none;">A B√≠blia Sat√¢nica ‚Äì Anton LaVey I Audiobook üéß</a></div>UNDCLOUD_AQUI`,
                hotmartLink: "https://pay.hotmart.com/Q100246758B",
                coverUrl: "https://i.ibb.co/LzyN4X5m/A-B-blia-Sat-nica-Anton-La-Vey-CAPA-TRANSPARENTE.png"
            },
            { 
                id: 2, 
                title: "A Bruxa de √âvora", 
                author: "Mara Helena Fareli",
                category: "esoterism",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 3, 
                title: "A Bruxa Sat√¢nica", 
                author: "Anton LaVey",
                category: "esoterism",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 4, 
                title: "A Cabala Draconiana", 
                author: "An√¥nimo",
                category: "esoterism",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 5, 
                title: "A Chave de Hiram", 
                author: "Christopher Knight e Robert Lomas",
                category: "esoterism",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 6, 
                title: "A Epop√©ia de Gilgamesh", 
                author: "An√¥nimo",
                category: "spirituality",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 7, 
                title: "A Era de Aqu√°rio e o Para√≠so Perdido", 
                author: "An√¥nimo",
                category: "spirituality",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 8, 
                title: "A Erva do Diabo", 
                author: "Carlos Castaneda",
                category: "spirituality",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 9, 
                title: "A Fonte da Juventude", 
                author: "Samael Aun Weor",
                category: "self-help",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            { 
                id: 10, 
                title: "A Grande Rebeli√£o", 
                author: "Samael Aun Weor",
                category: "philosophy",
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            },
            // ... (continua√ß√£o dos outros 89 audiobooks com categorias)
            // Para economizar espa√ßo no exemplo, mantenho apenas os 10 primeiros
            // O restante seguir√° o mesmo padr√£o
        ];

        // Adicionando mais alguns exemplos para demonstrar a funcionalidade
        // Em um projeto real, todos os 99 estariam aqui
        for (let i = 11; i <= 99; i++) {
            allAudiobooks.push({
                id: i,
                title: `Audiobook Exemplo ${i}`,
                author: "Autor Desconhecido",
                category: ["philosophy", "esoterism", "spirituality", "self-help"][Math.floor(Math.random() * 4)],
                soundcloudEmbed: `COLE_O_C√ìDIGO_DO_SOUNDCLOUD_AQUI`,
                hotmartLink: "COLE_SEU_LINK_HOTMART_AQUI",
                coverUrl: ""
            });
        }

        // Fun√ß√£o para gerar cores baseadas no ID
        function getColorFromId(id) {
            const colors = [
                { color1: '#6a11cb', color2: '#2575fc' },
                { color1: '#ff416c', color2: '#ff4b2b' },
                { color1: '#2193b0', color2: '#6dd5ed' },
                { color1: '#cc2b5e', color2: '#753a88' },
                { color1: '#42275a', color2: '#734b6d' },
                { color1: '#de6161', color2: '#2657eb' },
                { color1: '#4568dc', color2: '#b06ab3' },
                { color1: '#ff7e5f', color2: '#feb47b' },
                { color1: '#614385', color2: '#516395' },
                { color1: '#ee0979', color2: '#ff6a00' }
            ];
            return colors[id % colors.length];
        }

        // Fun√ß√£o para criar um card de audiobook
        function createAudiobookCard(audiobook) {
            const card = document.createElement('div');
            card.className = 'audiobook-card';
            card.dataset.id = audiobook.id;
            card.dataset.category = audiobook.category;
            
            const colors = getColorFromId(audiobook.id);
            const hasCover = audiobook.coverUrl && audiobook.coverUrl.trim() !== "";
            
            card.innerHTML = `
                ${hasCover ? 
                    `<img class="audiobook-cover" 
                          src="${audiobook.coverUrl}" 
                          alt="${audiobook.title}"
                          onerror="this.classList.add('error'); this.nextElementSibling.style.display='flex';">` 
                    : ''
                }
                <div class="cover-placeholder" id="cover-${audiobook.id}" 
                     style="${hasCover ? 'display:none;' : `--color1:${colors.color1}; --color2:${colors.color2}; background:linear-gradient(45deg, ${colors.color1}, ${colors.color2})`}">
                    <span>${audiobook.title.substring(0, 20)}${audiobook.title.length > 20 ? '...' : ''}</span>
                </div>
                <div class="audiobook-info">
                    <div class="audiobook-title" title="${audiobook.title}">${audiobook.title}</div>
                    <div class="audiobook-author">${audiobook.author}</div>
                </div>
                <div class="player-container" id="player-${audiobook.id}">
                    <div class="soundcloud-widget">
                        ${audiobook.soundcloudEmbed}
                    </div>
                    <a href="${audiobook.hotmartLink}" target="_blank" class="buy-btn">COMPRAR AGORA</a>
                </div>
            `;
            
            return card;
        }

        // Vari√°veis globais
        let currentFilter = 'all';
        let currentSearch = '';

        // Fun√ß√£o para filtrar e buscar audiobooks
        function filterAudiobooks() {
            const grid = document.getElementById('audiobooks-list');
            const searchResults = document.getElementById('searchResults');
            const visibleCount = document.getElementById('visibleCount');
            
            // Limpar grid
            grid.innerHTML = '';
            
            // Filtrar audiobooks
            let filteredAudiobooks = allAudiobooks;
            
            // Aplicar filtro de categoria
            if (currentFilter !== 'all') {
                filteredAudiobooks = filteredAudiobooks.filter(audiobook => 
                    audiobook.category === currentFilter
                );
            }
            
            // Aplicar busca
            if (currentSearch.trim() !== '') {
                const searchTerm = currentSearch.toLowerCase().trim();
                filteredAudiobooks = filteredAudiobooks.filter(audiobook => 
                    audiobook.title.toLowerCase().includes(searchTerm) ||
                    audiobook.author.toLowerCase().includes(searchTerm) ||
                    (audiobook.category && audiobook.category.includes(searchTerm))
                );
            }
            
            // Exibir resultados
            if (filteredAudiobooks.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <h3>Nenhum audiobook encontrado</h3>
                        <p>Tente usar outros termos de busca ou verifique os filtros aplicados.</p>
                        <button class="clear-search" onclick="clearSearch()">Limpar Busca</button>
                    </div>
                `;
                searchResults.textContent = `Nenhum resultado para "${currentSearch}"`;
            } else {
                // Adicionar cards ao grid
                filteredAudiobooks.forEach(audiobook => {
                    const card = createAudiobookCard(audiobook);
                    grid.appendChild(card);
                });
                
                // Atualizar contador
                visibleCount.textContent = filteredAudiobooks.length;
                
                // Atualizar mensagem de resultados
                if (currentSearch.trim() !== '') {
                    searchResults.textContent = `Encontrados ${filteredAudiobooks.length} resultado(s) para "${currentSearch}"`;
                } else if (currentFilter !== 'all') {
                    const filterNames = {
                        'philosophy': 'Filosofia',
                        'esoterism': 'Esoterismo',
                        'spirituality': 'Espiritualidade',
                        'self-help': 'Desenvolvimento Pessoal'
                    };
                    searchResults.textContent = `Mostrando ${filteredAudiobooks.length} audiobook(s) de ${filterNames[currentFilter]}`;
                } else {
                    searchResults.textContent = `Mostrando todos os ${filteredAudiobooks.length} audiobooks`;
                }
            }
            
            // Adicionar eventos aos novos cards
            addCardEvents();
        }

        // Fun√ß√£o para limpar busca
        function clearSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.value = '';
            currentSearch = '';
            filterAudiobooks();
        }

        // Fun√ß√£o para carregar os audiobooks na p√°gina
        function loadAudiobooks() {
            filterAudiobooks();
            
            console.log("‚úÖ Cat√°logo carregado com sistema de busca!");
            console.log("üîç Use a barra de pesquisa para encontrar audiobooks rapidamente");
        }

        // Adicionar eventos aos cards
        function addCardEvents() {
            document.addEventListener('click', function(e) {
                // Evento para abrir/fechar player
                if (e.target.closest('.audiobook-card')) {
                    const card = e.target.closest('.audiobook-card');
                    const player = card.querySelector('.player-container');
                    
                    // Se clicou no player, bot√£o de compra ou widget do SoundCloud, n√£o faz nada
                    if (e.target.closest('.player-container') || 
                        e.target.closest('.buy-btn') ||
                        e.target.closest('iframe') ||
                        e.target.closest('.soundcloud-footer')) {
                        return;
                    }
                    
                    // Fecha todos os outros players
                    document.querySelectorAll('.player-container').forEach(p => {
                        if (p !== player) p.classList.remove('active');
                    });
                    
                    // Abre/fecha o player clicado
                    player.classList.toggle('active');
                    
                    // Pausa outros players do SoundCloud
                    if (player.classList.contains('active')) {
                        pauseAllSoundCloudPlayers(card.dataset.id);
                    }
                }
            });
        }

        // Fun√ß√£o para pausar todos os players do SoundCloud exceto o atual
        function pauseAllSoundCloudPlayers(currentId) {
            document.querySelectorAll('.player-container.active iframe').forEach(iframe => {
                const playerCard = iframe.closest('.audiobook-card');
                if (playerCard && playerCard.dataset.id !== currentId) {
                    try {
                        iframe.contentWindow.postMessage(JSON.stringify({
                            method: 'pause'
                        }), 'https://w.soundcloud.com');
                    } catch (e) {
                        // Silencia erros de cross-origin
                    }
                }
            });
        }

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            header.classList.toggle('scrolled', window.scrollY > 50);
            
            // Bot√£o voltar ao topo
            const backToTop = document.getElementById('backToTop');
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // Configurar eventos da barra de pesquisa
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            // Evento de busca em tempo real
            searchInput.addEventListener('input', function() {
                currentSearch = this.value;
                filterAudiobooks();
            });
            
            // Eventos dos bot√µes de filtro
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remover classe active de todos os bot√µes
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Adicionar classe active ao bot√£o clicado
                    this.classList.add('active');
                    
                    // Atualizar filtro atual
                    currentFilter = this.dataset.filter;
                    
                    // Aplicar filtro
                    filterAudiobooks();
                });
            });
            
            // Evento do bot√£o voltar ao topo
            document.getElementById('backToTop').addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Focar na barra de pesquisa com atalho de teclado (Ctrl+F)
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                    e.preventDefault();
                    searchInput.focus();
                }
            });
        }

        // Carregar quando a p√°gina estiver pronta
        document.addEventListener('DOMContentLoaded', function() {
            loadAudiobooks();
            setupSearch();
        });
    </script>
</body>
</html>
